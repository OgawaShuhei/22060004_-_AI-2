# テキスト分析アプリ - Streamlit Cloud デプロイ版

## 概要
このアプリケーションは、ユーザーが入力したテキスト、アップロードしたテキストファイル、またはWebページのURLを分析し、包括的な分析結果を提供するWebアプリケーションです。Streamlit Cloudにデプロイして、世界中からアクセス可能にします。

## デプロイ方法

### 1. Streamlit Cloud でのデプロイ

#### 前提条件
- GitHubアカウント
- Streamlit Cloudアカウント（無料）

#### 手順

1. **GitHubにリポジトリをプッシュ**
   ```bash
   git add .
   git commit -m "Initial commit for Streamlit Cloud deployment"
   git push origin main
   ```

2. **Streamlit Cloudにサインアップ**
   - [Streamlit Cloud](https://streamlit.io/cloud)にアクセス
   - GitHubアカウントでサインアップ

3. **アプリケーションをデプロイ**
   - "New app" をクリック
   - GitHubリポジトリを選択
   - ブランチ: `main`
   - メインファイル: `app.py`
   - "Deploy!" をクリック

4. **デプロイ完了**
   - 数分後にアプリケーションが利用可能になります
   - 提供されたURLでアクセス可能

### 2. ローカルでの動作確認

#### 依存関係のインストール
```bash
pip install -r requirements.txt
```

#### アプリケーションの起動
```bash
streamlit run app.py
```

## 主な機能

### 基本分析機能
- **テキスト入力**: テキストエリアに直接入力
- **ファイルアップロード**: テキストファイル（.txt）をアップロード
- **URL分析**: WebページのURLを入力して自動分析

### 分析項目
- **基本統計**: 文字数、単語数、文の数、段落数など
- **言語検出**: テキストの言語を自動検出
- **感情分析**: ポジティブ/ネガティブ/中性の判定
- **可読性分析**: Flesch可読性スコアによる評価
- **単語頻度分析**: 最も頻繁に使用される単語の特定
- **文の分析**: 文の長さ分布と統計情報
- **文字分析**: 文字の使用頻度と統計情報

### データ管理機能
- **自動保存**: 分析結果は自動的にデータベースに保存
- **履歴管理**: 過去の分析結果の閲覧と検索
- **データ削除**: 個別データの削除機能
- **エクスポート**: CSV・TXT形式でのデータエクスポート

## 技術仕様

### 使用技術
- **フレームワーク**: Streamlit
- **テキスト分析**: NLTK, TextBlob, langdetect
- **Webスクレイピング**: Requests, BeautifulSoup4
- **データ可視化**: Plotly
- **データ処理**: Pandas
- **データベース**: SQLite

### デプロイ要件
- **Python**: 3.8以上
- **メモリ**: 1GB以上
- **ディスク容量**: 100MB以上

## ファイル構成

```
text-analysis-app/
├── app.py                 # Streamlitメインアプリケーション
├── text_analyzer.py       # テキスト分析ロジック
├── database_manager.py    # データベース管理
├── url_analyzer.py        # URL分析機能
├── requirements.txt       # Python依存関係
├── .streamlit/            # Streamlit設定
│   └── config.toml       # デプロイ設定
├── README.md             # プロジェクト説明
├── README_Deploy.md      # デプロイガイド
└── docs/                 # ドキュメント
    ├── system_design.png # システム設計図
    └── code_structure.png # コード構造図
```

## デプロイ後の注意事項

### 1. データベース
- Streamlit Cloudでは、アプリケーションが再起動されるとデータが失われます
- 本格運用の場合は、外部データベース（PostgreSQL、MongoDB等）の使用を検討してください

### 2. ファイルアップロード
- アップロードされたファイルは一時的に保存されます
- 大きなファイルの処理には時間がかかる場合があります

### 3. パフォーマンス
- 初回アクセス時は起動に時間がかかる場合があります
- 同時アクセス数が多い場合は、有料プランの使用を検討してください

## トラブルシューティング

### よくある問題と解決方法

#### 1. デプロイエラー
- `requirements.txt`の依存関係が正しく記載されているか確認
- Python 3.8以上が使用されているか確認

#### 2. モジュールエラー
- 必要なライブラリが`requirements.txt`に含まれているか確認
- バージョン指定が適切か確認

#### 3. データベースエラー
- SQLiteファイルの権限設定を確認
- ファイルパスが正しく設定されているか確認

## カスタマイズ

### 1. 新しい分析機能の追加
- `text_analyzer.py`に新しい分析メソッドを追加
- `app.py`のUIに新しいタブやセクションを追加

### 2. データベースの変更
- `database_manager.py`でテーブル構造を変更
- マイグレーション処理を追加

### 3. UIの改善
- Streamlitのコンポーネントを使用してUIを改善
- テーマやスタイルのカスタマイズ

## ライセンス
このプロジェクトはオープンソースです。APIキーやトークンは不要で、すべての機能が無料で利用できます。

## サポート
問題が発生した場合や質問がある場合は、以下の方法でサポートを受けることができます：
1. このREADMEのトラブルシューティングセクションを確認
2. プロジェクトのIssuesページで問題を報告
3. Streamlit Communityのフォーラムで質問

## 更新履歴
- v1.0.0: 初期リリース
- v1.1.0: Windows環境対応の改善
- v1.2.0: データ削除機能の修正と安定化
- v2.0.0: Streamlit Cloudデプロイ対応
