# テキスト分析アプリ - Windows環境版

## 概要
このアプリケーションは、ユーザーが入力したテキスト、アップロードしたテキストファイル、またはWebページのURLを分析し、包括的な分析結果を提供するWebアプリケーションです。APIキーやトークンを必要としないオープンソースライブラリを使用してテキストの詳細な分析を行います。

## Windows環境でのセットアップ

### 前提条件
- Windows 10/11
- Python 3.8以上
- pip（Pythonパッケージマネージャー）

### インストール手順

1. **Pythonのインストール**
   - [Python公式サイト](https://www.python.org/downloads/)からPython 3.8以上をダウンロード
   - インストール時に「Add Python to PATH」にチェックを入れる
   - インストール完了後、コマンドプロンプトまたはPowerShellで確認：
     ```cmd
     python --version
     pip --version
     ```

2. **プロジェクトのダウンロード**
   - このリポジトリをダウンロードまたはクローン
   - 任意のフォルダに展開

3. **依存関係のインストール**
   - コマンドプロンプトまたはPowerShellでプロジェクトフォルダに移動
   - 以下のコマンドを実行：
     ```cmd
     cd プロジェクトフォルダのパス
     pip install -r requirements.txt
     ```

4. **アプリケーションの起動**
   ```cmd
   streamlit run app.py
   ```
   - ブラウザが自動で開き、アプリケーションが表示されます
   - 通常は `http://localhost:8501` でアクセスできます

## 主な機能

### 基本分析機能
- **テキスト入力**: テキストエリアに直接入力
- **ファイルアップロード**: テキストファイル（.txt）をアップロード
- **URL分析**: WebページのURLを入力して自動分析

### 分析項目
- **基本統計**: 文字数、単語数、文の数、段落数など
- **言語検出**: テキストの言語を自動検出
- **感情分析**: ポジティブ/ネガティブ/中性の判定
- **可読性分析**: Flesch可読性スコアによる評価
- **単語頻度分析**: 最も頻繁に使用される単語の特定
- **文の分析**: 文の長さ分布と統計情報
- **文字分析**: 文字の使用頻度と統計情報

### データ管理機能
- **自動保存**: 分析結果は自動的にデータベースに保存
- **履歴管理**: 過去の分析結果の閲覧と検索
- **データ削除**: 個別データの削除機能
- **エクスポート**: CSV・TXT形式でのデータエクスポート

## 使用方法

### 1. ホームページ
- アプリケーションの概要と統計情報を表示
- 総分析数、平均テキスト長、最も一般的な言語、平均感情スコアを確認

### 2. テキスト分析
1. 入力方法を選択（テキスト入力、ファイルアップロード、URL分析）
2. テキストを入力またはファイルをアップロード
3. 「分析開始」ボタンをクリック
4. 分析結果が自動的に保存され、詳細な結果をタブ形式で確認

### 3. 分析履歴
- 過去の分析結果を一覧表示
- 検索機能で特定の分析を検索
- 言語別フィルタリング
- 分析結果の詳細表示と削除

### 4. データ管理
- CSVエクスポート：全分析データをCSV形式でダウンロード
- TXTエクスポート：詳細な分析結果をTXT形式でダウンロード
- データ削除：個別データの削除

## トラブルシューティング

### よくある問題と解決方法

#### 1. Pythonが見つからない
```cmd
python --version
```
が動作しない場合：
- PythonがPATHに追加されていない可能性があります
- システム環境変数でPythonのパスを確認してください

#### 2. pipが見つからない
```cmd
pip --version
```
が動作しない場合：
- Pythonのインストール時にpipが含まれていない可能性があります
- 以下のコマンドでpipをインストール：
  ```cmd
  python -m ensurepip --upgrade
  ```

#### 3. 依存関係のインストールエラー
```cmd
pip install -r requirements.txt
```
でエラーが発生する場合：
- 管理者権限でコマンドプロンプトを実行
- または仮想環境を使用：
  ```cmd
  python -m venv venv
  venv\Scripts\activate
  pip install -r requirements.txt
  ```

#### 4. Streamlitの起動エラー
```cmd
streamlit run app.py
```
でエラーが発生する場合：
- ポート8501が使用中の場合、別のポートを指定：
  ```cmd
  streamlit run app.py --server.port 8502
  ```

#### 5. データベースエラー
- `text_analysis.db`ファイルが破損している場合、ファイルを削除して再起動
- アプリケーションが自動的に新しいデータベースを作成します

## ファイル構成

```
text-analysis-app/
├── app.py                 # Streamlitメインアプリケーション
├── text_analyzer.py       # テキスト分析ロジック
├── database_manager.py    # データベース管理
├── url_analyzer.py        # URL分析機能
├── requirements.txt       # Python依存関係
├── README.md             # プロジェクト説明
├── text_analysis.db      # SQLiteデータベース（自動生成）
└── docs/                 # ドキュメント
    ├── system_design.png # システム設計図
    └── code_structure.png # コード構造図
```

## 技術仕様

### 使用技術
- **フレームワーク**: Streamlit
- **テキスト分析**: NLTK, TextBlob, langdetect
- **Webスクレイピング**: Requests, BeautifulSoup4
- **データ可視化**: Plotly
- **データ処理**: Pandas
- **データベース**: SQLite

### システム要件
- **OS**: Windows 10/11
- **Python**: 3.8以上
- **メモリ**: 4GB以上推奨
- **ディスク容量**: 100MB以上

## ライセンス
このプロジェクトはオープンソースです。APIキーやトークンは不要で、すべての機能が無料で利用できます。

## サポート
問題が発生した場合や質問がある場合は、以下の方法でサポートを受けることができます：
1. このREADMEのトラブルシューティングセクションを確認
2. プロジェクトのIssuesページで問題を報告
3. 開発者に直接連絡

## 更新履歴
- v1.0.0: 初期リリース
- v1.1.0: Windows環境対応の改善
- v1.2.0: データ削除機能の修正と安定化
